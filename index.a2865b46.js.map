{"mappings":"A,S,E,C,C,C,E,C,A,M,G,E,E,M,A,G,C,E,E,M,A,E,I,I,E,E,E,A,M,G,E,E,I,C,C,E,C,C,C,E,C,O,C,C,S,E,C,E,O,A,S,C,E,G,M,O,C,G,O,E,E,E,I,A,S,C,E,G,A,a,O,Q,A,M,C,C,O,Q,C,E,A,M,C,C,a,C,O,M,I,C,E,E,I,A,S,C,C,C,E,G,G,G,A,U,O,E,O,E,E,K,G,I,E,O,S,C,Q,C,I,C,G,K,C,E,I,G,W,G,E,W,E,C,E,E,W,C,I,A,E,A,Q,G,A,Q,E,O,M,I,C,G,G,A,c,G,2C,I,C,G,O,E,E,K,G,E,I,A,W,M,A,U,wI,G,CCIA,IAAM,EAAS,MAAM,IAAI,CAAC,SAAS,gBAAgB,CAAC,2BAC9C,EAAS,SAAS,aAAa,CAAC,eAChC,EAAO,SAAS,aAAa,CAAC,WAC9B,EAAY,SAAS,aAAa,CAAC,kBACnC,EAAU,SAAS,aAAa,CAAC,gBACjC,EAAW,SAAS,aAAa,CAAC,iBAClC,EAAS,SAAS,aAAa,CAAC,eAEhC,EAAU,AAAkB,aAAlB,OAAO,QAA0B,CAAC,CAAC,OAAO,OAAO,CAE3D,EAAO,IAAI,KACf,AAAkB,aAAlB,OAAO,OAAyB,OAAO,YAAY,CAAG,KAAA,GAEpD,EAAY,EAAK,QAAQ,GAAG,GAAG,CAAC,SAAC,CAArC,EAA2C,OAAA,EAAE,KAAK,E,GAC9C,EAAc,CAAA,EAEZ,EAAY,SAAS,aAAa,CAAC,MAEzC,CAAA,EAAU,SAAS,CAAG,aACtB,EAAO,WAAW,CAAC,GAEnB,IAAM,EAAS,SAAC,CAAA,CAAG,CAAnB,EAAyB,OAAA,CAAM,CAAC,AAAI,EAAJ,EAAQ,EAAE,A,EAyE1C,SAAS,IACP,IAjDmB,EAIG,EA6ChB,EAAO,EAAK,QAAQ,IAE1B,AA1EF,SAAqB,CAAK,EACxB,IAAI,EAAI,EAGD,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,EAAA,KAAA,EADF,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,EACE,KAAA,E,G,CADP,IAAA,IAAK,EAAA,EAAa,CAAA,CAAA,OAAA,QAAA,CAAA,GAAb,CAAA,CAAA,EAAA,AAAA,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,IA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","sources":["<anon>","src/scripts/main.js"],"sourcesContent":["\"use strict\";\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nfunction _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\n/* global Game */ var $cells = Array.from(document.querySelectorAll(\".field-row .field-cell\"));\nvar $score = document.querySelector(\".game-score\");\nvar $btn = document.querySelector(\".button\");\nvar $msgStart = document.querySelector(\".message-start\");\nvar $msgWin = document.querySelector(\".message-win\");\nvar $msgLose = document.querySelector(\".message-lose\");\nvar $field = document.querySelector(\".game-field\");\nvar IS_TEST = typeof window !== \"undefined\" && !!window.Cypress;\nvar game = new Game(typeof window !== \"undefined\" ? window.initialState : undefined);\nvar prevState = game.getState().map(function(r) {\n    return r.slice();\n});\nvar isAnimating = false;\nvar animLayer = document.createElement(\"div\");\nanimLayer.className = \"anim-layer\";\n$field.appendChild(animLayer);\nvar cellAt = function(r, c) {\n    return $cells[r * 4 + c];\n};\nfunction renderBoard(state) {\n    var i = 0;\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined, _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n    try {\n        for(var _iterator = state[Symbol.iterator](), _step; !(_iteratorNormalCompletion1 = (_step = _iterator.next()).done); _iteratorNormalCompletion1 = true){\n            var row = _step.value;\n            try {\n                var _loop = function() {\n                    var value = _step1.value;\n                    var cell = $cells[i++];\n                    cell.textContent = value ? String(value) : \"\";\n                    Array.from(cell.classList).filter(function(cls) {\n                        return cls.startsWith(\"field-cell--\") || cls === \"spawn\" || cls === \"bump\";\n                    }).forEach(function(cls) {\n                        return cell.classList.remove(cls);\n                    });\n                    if (value) cell.classList.add(\"field-cell--\".concat(value));\n                };\n                for(var _iterator1 = row[Symbol.iterator](), _step1; !(_iteratorNormalCompletion = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion = true)_loop();\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator1.return != null) {\n                        _iterator1.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    } catch (err) {\n        _didIteratorError1 = true;\n        _iteratorError1 = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion1 && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError1) {\n                throw _iteratorError1;\n            }\n        }\n    }\n}\nfunction renderScore(score) {\n    $score.textContent = String(score);\n}\nfunction renderMessages(gameStatus) {\n    $msgStart.classList.add(\"hidden\");\n    $msgWin.classList.toggle(\"hidden\", gameStatus !== \"win\");\n    $msgLose.classList.toggle(\"hidden\", gameStatus !== \"lose\");\n}\nfunction animateChanges(prev, next) {\n    var _loop = function(r) {\n        var _loop = function(c) {\n            var was = prev[r][c];\n            var now = next[r][c];\n            var cell = $cells[idx++];\n            if (was === 0 && now > 0) {\n                cell.classList.remove(\"spawn\");\n                cell.getBoundingClientRect();\n                cell.classList.add(\"spawn\");\n                cell.addEventListener(\"animationend\", function() {\n                    return cell.classList.remove(\"spawn\");\n                }, {\n                    once: true\n                });\n            } else if (was > 0 && now > was) {\n                cell.classList.remove(\"bump\");\n                cell.getBoundingClientRect();\n                cell.classList.add(\"bump\");\n                cell.addEventListener(\"animationend\", function() {\n                    return cell.classList.remove(\"bump\");\n                }, {\n                    once: true\n                });\n            }\n        };\n        for(var c = 0; c < 4; c++)_loop(c);\n    };\n    if (IS_TEST) return;\n    var idx = 0;\n    for(var r = 0; r < 4; r++)_loop(r);\n}\nfunction renderAll() {\n    var next = game.getState();\n    renderBoard(next);\n    renderScore(game.getScore());\n    renderMessages(game.getStatus());\n    var idle = game.getStatus() === \"idle\";\n    $btn.textContent = idle ? \"Start\" : \"Restart\";\n    $btn.classList.toggle(\"start\", idle);\n    $btn.classList.toggle(\"restart\", !idle);\n    animateChanges(prevState, next);\n    prevState = next.map(function(r) {\n        return r.slice();\n    });\n}\nfunction compressRowWithMappingLeft(row, r) {\n    var src = [];\n    for(var c = 0; c < 4; c++)if (row[c] !== 0) src.push({\n        val: row[c],\n        c: c\n    });\n    var moves = [];\n    var dest = 0;\n    for(var i = 0; i < src.length; i++)if (i + 1 < src.length && src[i].val === src[i + 1].val) {\n        moves.push({\n            fromR: r,\n            fromC: src[i].c,\n            toR: r,\n            toC: dest,\n            value: src[i].val\n        });\n        moves.push({\n            fromR: r,\n            fromC: src[i + 1].c,\n            toR: r,\n            toC: dest,\n            value: src[i + 1].val\n        });\n        dest++;\n        i++;\n    } else {\n        moves.push({\n            fromR: r,\n            fromC: src[i].c,\n            toR: r,\n            toC: dest,\n            value: src[i].val\n        });\n        dest++;\n    }\n    return moves;\n}\nfunction planMoves(prev, dir) {\n    var _moves;\n    var moves = [];\n    if (dir === \"left\") for(var r = 0; r < 4; r++)(_moves = moves).push.apply(_moves, _to_consumable_array(compressRowWithMappingLeft(prev[r], r)));\n    else if (dir === \"right\") for(var r1 = 0; r1 < 4; r1++){\n        var _moves1;\n        var rev = _to_consumable_array(prev[r1]).reverse();\n        var m = compressRowWithMappingLeft(rev, r1);\n        var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n        try {\n            for(var _iterator = m[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                var mv = _step.value;\n                mv.toC = 3 - mv.toC;\n                mv.fromC = 3 - mv.fromC;\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally{\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            } finally{\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n        (_moves1 = moves).push.apply(_moves1, _to_consumable_array(m));\n    }\n    else if (dir === \"up\") for(var c = 0; c < 4; c++){\n        var _moves2;\n        var col = [\n            prev[0][c],\n            prev[1][c],\n            prev[2][c],\n            prev[3][c]\n        ];\n        var m1 = compressRowWithMappingLeft(col, 0);\n        var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n        try {\n            for(var _iterator1 = m1[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true){\n                var mv1 = _step1.value;\n                mv1.fromR = mv1.fromC;\n                mv1.fromC = c;\n                mv1.toR = mv1.toC;\n                mv1.toC = c;\n            }\n        } catch (err) {\n            _didIteratorError1 = true;\n            _iteratorError1 = err;\n        } finally{\n            try {\n                if (!_iteratorNormalCompletion1 && _iterator1.return != null) {\n                    _iterator1.return();\n                }\n            } finally{\n                if (_didIteratorError1) {\n                    throw _iteratorError1;\n                }\n            }\n        }\n        (_moves2 = moves).push.apply(_moves2, _to_consumable_array(m1));\n    }\n    else if (dir === \"down\") for(var c1 = 0; c1 < 4; c1++){\n        var _moves3;\n        var col1 = [\n            prev[3][c1],\n            prev[2][c1],\n            prev[1][c1],\n            prev[0][c1]\n        ];\n        var m2 = compressRowWithMappingLeft(col1, 0);\n        var _iteratorNormalCompletion2 = true, _didIteratorError2 = false, _iteratorError2 = undefined;\n        try {\n            for(var _iterator2 = m2[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true){\n                var mv2 = _step2.value;\n                var fr = mv2.fromC;\n                var tr = mv2.toC;\n                mv2.fromR = 3 - fr;\n                mv2.fromC = c1;\n                mv2.toR = 3 - tr;\n                mv2.toC = c1;\n            }\n        } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n        } finally{\n            try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                    _iterator2.return();\n                }\n            } finally{\n                if (_didIteratorError2) {\n                    throw _iteratorError2;\n                }\n            }\n        }\n        (_moves3 = moves).push.apply(_moves3, _to_consumable_array(m2));\n    }\n    return moves.filter(function(mv) {\n        return mv.fromR !== mv.toR || mv.fromC !== mv.toC;\n    });\n}\nfunction clearCellVisual(r, c) {\n    var cell = cellAt(r, c);\n    cell.textContent = \"\";\n    Array.from(cell.classList).filter(function(cls) {\n        return cls.startsWith(\"field-cell--\") || cls === \"spawn\" || cls === \"bump\";\n    }).forEach(function(cls) {\n        return cell.classList.remove(cls);\n    });\n}\nfunction playSlideAnimation(moves, done) {\n    if (!moves.length) {\n        done();\n        return;\n    }\n    var fieldRect = $field.getBoundingClientRect();\n    var ghosts = [];\n    var seen = new Set();\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        for(var _iterator = moves[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var mv = _step.value;\n            var k1 = \"\".concat(mv.fromR, \"-\").concat(mv.fromC);\n            var k2 = \"\".concat(mv.toR, \"-\").concat(mv.toC);\n            if (!seen.has(k1)) {\n                clearCellVisual(mv.fromR, mv.fromC);\n                seen.add(k1);\n            }\n            if (!seen.has(k2)) {\n                clearCellVisual(mv.toR, mv.toC);\n                seen.add(k2);\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n    var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n    try {\n        var _loop = function() {\n            var mv = _step1.value;\n            var fromRect = cellAt(mv.fromR, mv.fromC).getBoundingClientRect();\n            var toRect = cellAt(mv.toR, mv.toC).getBoundingClientRect();\n            var ghost = document.createElement(\"div\");\n            ghost.className = \"ghost field-cell field-cell--\".concat(mv.value);\n            ghost.textContent = String(mv.value);\n            ghost.style.left = \"\".concat(fromRect.left - fieldRect.left, \"px\");\n            ghost.style.top = \"\".concat(fromRect.top - fieldRect.top, \"px\");\n            ghost.style.transform = \"translate(0px, 0px) scale(0.9)\";\n            animLayer.appendChild(ghost);\n            ghosts.push(ghost);\n            requestAnimationFrame(function() {\n                var dx = toRect.left - fromRect.left;\n                var dy = toRect.top - fromRect.top;\n                ghost.style.transform = \"translate(\".concat(dx, \"px, \").concat(dy, \"px) scale(0.9)\");\n            });\n        };\n        for(var _iterator1 = moves[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true)_loop();\n    } catch (err) {\n        _didIteratorError1 = true;\n        _iteratorError1 = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion1 && _iterator1.return != null) {\n                _iterator1.return();\n            }\n        } finally{\n            if (_didIteratorError1) {\n                throw _iteratorError1;\n            }\n        }\n    }\n    var doneCount = 0;\n    var onEnd = function() {\n        if (++doneCount === ghosts.length) {\n            ghosts.forEach(function(g) {\n                return g.remove();\n            });\n            done();\n        }\n    };\n    for(var i = 0; i < ghosts.length; i++)ghosts[i].addEventListener(\"transitionend\", onEnd, {\n        once: true\n    });\n    setTimeout(function() {\n        ghosts.forEach(function(g) {\n            return g.removeEventListener(\"transitionend\", onEnd);\n        });\n        ghosts.forEach(function(g) {\n            return g.remove();\n        });\n        done();\n    }, 620);\n}\nfunction doMove(dir) {\n    if (game.getStatus() !== \"playing\") return;\n    var prev = game.getState().map(function(r) {\n        return r.slice();\n    });\n    var moves = planMoves(prev, dir);\n    if (!moves.length) return;\n    if (!IS_TEST && isAnimating) return;\n    if (!IS_TEST) isAnimating = true;\n    if (dir === \"left\") game.moveLeft();\n    else if (dir === \"right\") game.moveRight();\n    else if (dir === \"up\") game.moveUp();\n    else game.moveDown();\n    if (IS_TEST) renderAll();\n    else playSlideAnimation(moves, function() {\n        renderAll();\n        isAnimating = false;\n    });\n}\ndocument.addEventListener(\"keydown\", function(e) {\n    if (e.key === \"ArrowLeft\") doMove(\"left\");\n    else if (e.key === \"ArrowRight\") doMove(\"right\");\n    else if (e.key === \"ArrowUp\") doMove(\"up\");\n    else if (e.key === \"ArrowDown\") doMove(\"down\");\n});\n$btn.addEventListener(\"click\", function() {\n    if (!IS_TEST && isAnimating) return;\n    if (game.getStatus() === \"idle\") game.start();\n    else {\n        game.restart();\n        game.start();\n    }\n    renderAll();\n});\nrenderAll();\n\n//# sourceMappingURL=index.a2865b46.js.map\n","'use strict';\n\n/* global Game */\n\nconst $cells = Array.from(document.querySelectorAll('.field-row .field-cell'));\nconst $score = document.querySelector('.game-score');\nconst $btn = document.querySelector('.button');\nconst $msgStart = document.querySelector('.message-start');\nconst $msgWin = document.querySelector('.message-win');\nconst $msgLose = document.querySelector('.message-lose');\nconst $field = document.querySelector('.game-field');\n\nconst IS_TEST = typeof window !== 'undefined' && !!window.Cypress;\n\nconst game = new Game(\n  typeof window !== 'undefined' ? window.initialState : undefined,\n);\nlet prevState = game.getState().map((r) => r.slice());\nlet isAnimating = false;\n\nconst animLayer = document.createElement('div');\n\nanimLayer.className = 'anim-layer';\n$field.appendChild(animLayer);\n\nconst cellAt = (r, c) => $cells[r * 4 + c];\n\nfunction renderBoard(state) {\n  let i = 0;\n\n  for (const row of state) {\n    for (const value of row) {\n      const cell = $cells[i++];\n\n      cell.textContent = value ? String(value) : '';\n\n      Array.from(cell.classList)\n        .filter(\n          (cls) =>\n            cls.startsWith('field-cell--') || cls === 'spawn' || cls === 'bump',\n        )\n        .forEach((cls) => cell.classList.remove(cls));\n\n      if (value) {\n        cell.classList.add(`field-cell--${value}`);\n      }\n    }\n  }\n}\n\nfunction renderScore(score) {\n  $score.textContent = String(score);\n}\n\nfunction renderMessages(gameStatus) {\n  $msgStart.classList.add('hidden');\n  $msgWin.classList.toggle('hidden', gameStatus !== 'win');\n  $msgLose.classList.toggle('hidden', gameStatus !== 'lose');\n}\n\nfunction animateChanges(prev, next) {\n  if (IS_TEST) {\n    return;\n  }\n\n  let idx = 0;\n\n  for (let r = 0; r < 4; r++) {\n    for (let c = 0; c < 4; c++) {\n      const was = prev[r][c];\n      const now = next[r][c];\n      const cell = $cells[idx++];\n\n      if (was === 0 && now > 0) {\n        cell.classList.remove('spawn');\n        cell.getBoundingClientRect();\n        cell.classList.add('spawn');\n\n        cell.addEventListener(\n          'animationend',\n          () => cell.classList.remove('spawn'),\n          { once: true },\n        );\n      } else if (was > 0 && now > was) {\n        cell.classList.remove('bump');\n        cell.getBoundingClientRect();\n        cell.classList.add('bump');\n\n        cell.addEventListener(\n          'animationend',\n          () => cell.classList.remove('bump'),\n          { once: true },\n        );\n      }\n    }\n  }\n}\n\nfunction renderAll() {\n  const next = game.getState();\n\n  renderBoard(next);\n  renderScore(game.getScore());\n  renderMessages(game.getStatus());\n\n  const idle = game.getStatus() === 'idle';\n\n  $btn.textContent = idle ? 'Start' : 'Restart';\n  $btn.classList.toggle('start', idle);\n  $btn.classList.toggle('restart', !idle);\n  animateChanges(prevState, next);\n  prevState = next.map((r) => r.slice());\n}\n\nfunction compressRowWithMappingLeft(row, r) {\n  const src = [];\n\n  for (let c = 0; c < 4; c++) {\n    if (row[c] !== 0) {\n      src.push({ val: row[c], c });\n    }\n  }\n\n  const moves = [];\n  let dest = 0;\n\n  for (let i = 0; i < src.length; i++) {\n    if (i + 1 < src.length && src[i].val === src[i + 1].val) {\n      moves.push({\n        fromR: r,\n        fromC: src[i].c,\n        toR: r,\n        toC: dest,\n        value: src[i].val,\n      });\n\n      moves.push({\n        fromR: r,\n        fromC: src[i + 1].c,\n        toR: r,\n        toC: dest,\n        value: src[i + 1].val,\n      });\n      dest++;\n      i++;\n    } else {\n      moves.push({\n        fromR: r,\n        fromC: src[i].c,\n        toR: r,\n        toC: dest,\n        value: src[i].val,\n      });\n      dest++;\n    }\n  }\n\n  return moves;\n}\n\nfunction planMoves(prev, dir) {\n  const moves = [];\n\n  if (dir === 'left') {\n    for (let r = 0; r < 4; r++) {\n      moves.push(...compressRowWithMappingLeft(prev[r], r));\n    }\n  } else if (dir === 'right') {\n    for (let r = 0; r < 4; r++) {\n      const rev = [...prev[r]].reverse();\n      const m = compressRowWithMappingLeft(rev, r);\n\n      for (const mv of m) {\n        mv.toC = 3 - mv.toC;\n        mv.fromC = 3 - mv.fromC;\n      }\n      moves.push(...m);\n    }\n  } else if (dir === 'up') {\n    for (let c = 0; c < 4; c++) {\n      const col = [prev[0][c], prev[1][c], prev[2][c], prev[3][c]];\n      const m = compressRowWithMappingLeft(col, 0);\n\n      for (const mv of m) {\n        mv.fromR = mv.fromC;\n        mv.fromC = c;\n        mv.toR = mv.toC;\n        mv.toC = c;\n      }\n      moves.push(...m);\n    }\n  } else if (dir === 'down') {\n    for (let c = 0; c < 4; c++) {\n      const col = [prev[3][c], prev[2][c], prev[1][c], prev[0][c]];\n      const m = compressRowWithMappingLeft(col, 0);\n\n      for (const mv of m) {\n        const fr = mv.fromC;\n        const tr = mv.toC;\n\n        mv.fromR = 3 - fr;\n        mv.fromC = c;\n        mv.toR = 3 - tr;\n        mv.toC = c;\n      }\n      moves.push(...m);\n    }\n  }\n\n  return moves.filter((mv) => mv.fromR !== mv.toR || mv.fromC !== mv.toC);\n}\n\nfunction clearCellVisual(r, c) {\n  const cell = cellAt(r, c);\n\n  cell.textContent = '';\n\n  Array.from(cell.classList)\n    .filter(\n      (cls) =>\n        cls.startsWith('field-cell--') || cls === 'spawn' || cls === 'bump',\n    )\n    .forEach((cls) => cell.classList.remove(cls));\n}\n\nfunction playSlideAnimation(moves, done) {\n  if (!moves.length) {\n    done();\n\n    return;\n  }\n\n  const fieldRect = $field.getBoundingClientRect();\n  const ghosts = [];\n  const seen = new Set();\n\n  for (const mv of moves) {\n    const k1 = `${mv.fromR}-${mv.fromC}`;\n    const k2 = `${mv.toR}-${mv.toC}`;\n\n    if (!seen.has(k1)) {\n      clearCellVisual(mv.fromR, mv.fromC);\n      seen.add(k1);\n    }\n\n    if (!seen.has(k2)) {\n      clearCellVisual(mv.toR, mv.toC);\n      seen.add(k2);\n    }\n  }\n\n  for (const mv of moves) {\n    const fromRect = cellAt(mv.fromR, mv.fromC).getBoundingClientRect();\n    const toRect = cellAt(mv.toR, mv.toC).getBoundingClientRect();\n    const ghost = document.createElement('div');\n\n    ghost.className = `ghost field-cell field-cell--${mv.value}`;\n    ghost.textContent = String(mv.value);\n    ghost.style.left = `${fromRect.left - fieldRect.left}px`;\n    ghost.style.top = `${fromRect.top - fieldRect.top}px`;\n    ghost.style.transform = `translate(0px, 0px) scale(0.9)`;\n    animLayer.appendChild(ghost);\n    ghosts.push(ghost);\n\n    requestAnimationFrame(() => {\n      const dx = toRect.left - fromRect.left;\n      const dy = toRect.top - fromRect.top;\n\n      ghost.style.transform = `translate(${dx}px, ${dy}px) scale(0.9)`;\n    });\n  }\n\n  let doneCount = 0;\n  const onEnd = () => {\n    if (++doneCount === ghosts.length) {\n      ghosts.forEach((g) => g.remove());\n      done();\n    }\n  };\n\n  for (let i = 0; i < ghosts.length; i++) {\n    ghosts[i].addEventListener('transitionend', onEnd, { once: true });\n  }\n\n  setTimeout(() => {\n    ghosts.forEach((g) => g.removeEventListener('transitionend', onEnd));\n    ghosts.forEach((g) => g.remove());\n    done();\n  }, 620);\n}\n\nfunction doMove(dir) {\n  if (game.getStatus() !== 'playing') {\n    return;\n  }\n\n  const prev = game.getState().map((r) => r.slice());\n  const moves = planMoves(prev, dir);\n\n  if (!moves.length) {\n    return;\n  }\n\n  if (!IS_TEST && isAnimating) {\n    return;\n  }\n\n  if (!IS_TEST) {\n    isAnimating = true;\n  }\n\n  if (dir === 'left') {\n    game.moveLeft();\n  } else if (dir === 'right') {\n    game.moveRight();\n  } else if (dir === 'up') {\n    game.moveUp();\n  } else {\n    game.moveDown();\n  }\n\n  if (IS_TEST) {\n    renderAll();\n  } else {\n    playSlideAnimation(moves, () => {\n      renderAll();\n      isAnimating = false;\n    });\n  }\n}\n\ndocument.addEventListener('keydown', (e) => {\n  if (e.key === 'ArrowLeft') {\n    doMove('left');\n  } else if (e.key === 'ArrowRight') {\n    doMove('right');\n  } else if (e.key === 'ArrowUp') {\n    doMove('up');\n  } else if (e.key === 'ArrowDown') {\n    doMove('down');\n  }\n});\n\n$btn.addEventListener('click', () => {\n  if (!IS_TEST && isAnimating) {\n    return;\n  }\n\n  if (game.getStatus() === 'idle') {\n    game.start();\n  } else {\n    game.restart();\n    game.start();\n  }\n  renderAll();\n});\n\nrenderAll();\n"],"names":["_array_like_to_array","arr","len","length","i","arr2","Array","_to_consumable_array","_array_without_holes","isArray","_iterable_to_array","iter","Symbol","iterator","from","_unsupported_iterable_to_array","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","_non_iterable_spread","TypeError","$cells","document","querySelectorAll","$score","querySelector","$btn","$msgStart","$msgWin","$msgLose","$field","IS_TEST","window","Cypress","game","Game","initialState","undefined","prevState","getState","map","r","isAnimating","animLayer","createElement","className","appendChild","cellAt","c","renderAll","score","gameStatus","next","renderBoard","state","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step","_iterator","done","row","value","_step1","_iterator1","_loop","cell","textContent","String","classList","filter","cls","startsWith","forEach","remove","add","concat","err","return","getScore","getStatus","toggle","idle","animateChanges","prev","was","now","idx","getBoundingClientRect","addEventListener","once","compressRowWithMappingLeft","src","push","val","moves","dest","fromR","fromC","toR","toC","clearCellVisual","doMove","dir","planMoves","apply","r1","m","reverse","mv","m1","mv1","c1","m2","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","mv2","fr","tr","moveLeft","moveRight","moveUp","moveDown","playSlideAnimation","fieldRect","ghosts","seen","Set","k1","k2","has","fromRect","toRect","ghost","style","left","top","transform","requestAnimationFrame","dx","dy","doneCount","onEnd","g","setTimeout","removeEventListener","e","key","restart","start"],"version":3,"file":"index.a2865b46.js.map"}